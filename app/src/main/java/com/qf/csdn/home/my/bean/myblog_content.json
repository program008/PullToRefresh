{
  "code": 2000,
  "message": "",
  "data": {
    "type": "original",
    "id": 50585225,
    "title": "android中信息列表的下拉刷新和下拉加载",
    "username": "program008",
    "is_digged": true,
    "level": 0,
    "description": "在android的开发中，似乎只要涉及到信息列表都会使用到下拉刷新和下拉加载。可见尤其的重要。一般情况下，我们可以选择第三方库来实现。接下来我们就按部就班来实现我们的这个上拉加载和下拉刷新的功能：\n第一步：准备开发环境\n第三方库：链接地址：http://pan.baidu.com/s/1c0Uvs1E   \n   密码：ujcc\n\n 导入第三方库，将第三方的library，并将其与本运用",
    "can_dig": false,
    "markdowncontent": null,
    "articlemore": "",
    "comment_count": 0,
    "tags": "android开发",
    "status": 1,
    "nickname": "program008",
    "is_fav": 0,
    "digg": 1,
    "bury": 0,
    "create_at": "/Date(1453772078000)/",
    "comment_allowed": "true",
    "avatar": "http://avatar.csdn.net/7/0/4/1_program008.jpg",
    "create": "2016-01-26 09:34:38",
    "url": "http://blog.csdn.net/program008/article/details/50585225",
    "articleedittype": 0,
    "content": "\r\n<p><span style=\"font-size:12px\">在android的开发中，&#20284;乎只要涉及到信息列表都会使用到下拉刷新和下拉加载。可见尤其的重要。一般情况下，我们可以选择第三方库来实现。接下来我们就按部就班来实现我们的这个上拉加载和下拉刷新的功能：</span></p>\r\n<p><span style=\"font-size:12px\">第一步：准备开发环境</span></p>\r\n<p><span style=\"font-size:12px\">第三方库：链接地址：<a target=\"_blank\" target=\"_blank\" href=\"http://pan.baidu.com/s/1c0Uvs1E\">http://pan.baidu.com/s/1c0Uvs1E&nbsp;&nbsp;&nbsp;</a>&nbsp;&nbsp; 密码：ujcc<br>\r\n</span></p>\r\n<p><span style=\"font-size:12px\">&nbsp;导入第三方库，将第三方的library，并将其与本运用的app依赖，然后同步即可<br>\r\n</span></p>\r\n<p><span style=\"font-size:12px\">第二步：主布局文件</span></p>\r\n<p><span style=\"font-size:12px\"></span></p>\r\n<pre name=\"code\" class=\"html\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\n    tools:context=&quot;com.qf.myjoke.MainActivity&quot;&gt;\n\n    &lt;com.handmark.pulltorefresh.library.PullToRefreshListView\n        xmlns:ptr=&quot;http://schemas.android.com/apk/res-auto&quot;\n        ptr:ptrDrawable = &quot;@drawable/default_ptr_flip&quot;\n        ptr:ptrAnimationStyle=&quot;flip&quot;\n        ptr:ptrHeaderBackground=&quot;#383838&quot;\n        ptr:ptrHeaderTextColor=&quot;#FFFFFF&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/lsItems&quot;\n        &gt;&lt;/com.handmark.pulltorefresh.library.PullToRefreshListView&gt;\n&lt;/RelativeLayout&gt;</pre>第三步：准备显示条目信息的布局\r\n<p></p>\r\n<p><span style=\"font-size:12px\"></span></p>\r\n<pre name=\"code\" class=\"html\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/tvItem&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n&lt;/TextView&gt;</pre><br>\r\n第四步：添加条目的适配器\r\n<p></p>\r\n<p><span style=\"font-size:12px\"></span></p>\r\n<pre name=\"code\" class=\"java\">/**\n *这里很简单，和平时的adapter一样\n */\n</pre>第五步：设置适配器<br>\r\n<p></p>\r\n<p><pre name=\"code\" class=\"java\">        PullToRefreshListView  listView = (PullToRefreshListView) findViewById(R.id.lsItems);\n        LayoutItemAdapter adapter = new LayoutItemAdapter(MainActivity.this,jokeList);\n        listView.setAdapter(adapter);</pre><br>\r\n</p>\r\n<p></p>\r\n<pre></pre>\r\n<pre></pre>\r\n<pre></pre>\r\n<span style=\"font-size:12px\">第六步：设置列表下拉上拉</span><pre name=\"code\" class=\"java\">private void setListView() {\n        listView.setMode(PullToRefreshBase.Mode.BOTH);//设置既可以下拉也可以上拉\n        ILoadingLayout headLayout = listView.getLoadingLayoutProxy(true, false);\n        headLayout.setPullLabel(&quot;下来刷新&quot;);\n        headLayout.setRefreshingLabel(&quot;刷新中...&quot;);\n        headLayout.setReleaseLabel(&quot;放开刷新&quot;);\n\n        ILoadingLayout footLayout = listView.getLoadingLayoutProxy(false, true);\n        footLayout.setPullLabel(&quot;上拉加载&quot;);\n        footLayout.setRefreshingLabel(&quot;加载中...&quot;);\n        footLayout.setReleaseLabel(&quot;放开加载&quot;);\n    }</pre><br>\r\n第七步：设置下拉上拉的监听器<br>\r\n<p></p>\r\n<p><span style=\"font-size:12px\"></span></p>\r\n<pre name=\"code\" class=\"java\">private void setListner() {\n        listView.setOnRefreshListener(new PullToRefreshBase.OnRefreshListener2&lt;ListView&gt;() {\n            @Override\n            public void onPullDownToRefresh(PullToRefreshBase&lt;ListView&gt; refreshView) {\n                   //做下拉刷新\n            }\n\n            @Override\n            public void onPullUpToRefresh(PullToRefreshBase&lt;ListView&gt; refreshView) {\n               //做上拉加载\n            }\n        });\n    }</pre><br>\r\n<br>\r\n<p></p>\r\n",
    "is_buryed": false,
    "categories": "android开发",
    "markdowndirectory": null,
    "view_count": 9,
    "channel": 0
  },
  "sessionId": "SESSIONID-csdn-ST-11554-IhhF05ZTdHP9lpXDovgt-passport.csdn.net",
  "sessionExpired": "1460713202452"
}